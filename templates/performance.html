{% extends "base.html" %}
{% block content %}

<script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1"></script>
<script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2.2.0"></script>

<h1 class="section-title">Performance Impact Overview</h1>

<div class="metric-grid">
    <div class="metric">
        <h3>2024 Negative Mentions</h3>
        <p>580</p>
    </div>
    <div class="metric">
        <h3>2025 Negative Mentions</h3>
        <p>980 (+69%)</p>
    </div>
    <div class="metric">
        <h3>Median TAT</h3>
        <p>15.43 → 11.38 mins</p>
    </div>
</div>

<div class="card">
    <canvas id="volumeChart"></canvas>
</div>

<div class="card" style="margin-top:30px;">
    <canvas id="tatChart"></canvas>
</div>

<script>
Chart.register(ChartDataLabels);

new Chart(document.getElementById("volumeChart"), {
    type:"bar",
    data:{
        labels:["Dec 2024","Jan–Mar 2025"],
        datasets:[{
            label:"Negative Mentions",
            data:[580,980],
            backgroundColor:["#1e40af","#2563eb"]
        }]
    },
    options:{
        plugins:{ datalabels:{ anchor:"end", align:"top" } }
    }
});

new Chart(document.getElementById("tatChart"), {
    type:"bar",
    data:{
        labels:["Dec 2024","Jan–Mar 2025"],
        datasets:[{
            label:"Median TAT (Minutes)",
            data:[15.43,11.38],
            backgroundColor:["#0f172a","#1e40af"]
        }]
    },
    options:{
        plugins:{ datalabels:{ anchor:"end", align:"top" } }
    }
});
</script>

{% endblock %}
